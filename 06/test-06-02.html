<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<title>jQuery Mobile Test</title>
	<script src="../js/jquery-1.9.1.min.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/jquery.mobile-1.3.1.css" />
	<script src="../js/jquery.mobile-1.3.1.min.js"></script>
	<script type="text/javascript">
		$(document).bind('pagebeforechange', function(event, data) {
			var url = $.mobile.path.parseUrl(data.toPage).hash;
			alert("original_url=" + data.toPage + " url=" + url);
			
			if(url!=undefined && url.length>9 && url.substring(0,9)=="#page6-2-") {
				var id = url.substring(10);
				$("#pageTemplate h1").html("ページ" + id);
				$.mobile.changePage($("#pageTemplate"), {dataUrl: data.toPage});
				event.preventDefault();
			}
		});
	</script>
	<meta name="viewport" content="width=device-width, initial-slace=1" />
</head>

<body>

<div data-role="page" id="page6-2" data-add-back-btn="true" data-back-btn-text="戻る">
	<div data-role="header">
		<h1>動的なコンテンツ（pageメソッド利用）</h1>
	</div>

	<div data-role="content">
		<a id="button1" href="#page6-2-1" data-role="button" rel="external" data-ajax="false">ページ1</a>
		<a id="button2" href="#page6-2-2" data-role="button" rel="external">ページ2</a>
		<a id="button3" href="#page6-2-3" data-role="button" rel="external">ページ3</a>
		<a id="button4" href="#page6-2-4" data-role="button" rel="external">ページ4</a>
	</div>

	<div data-role="footer">
		<h4>yone3.net</h4>
	</div>
</div>

<div data-role="page" id="pageTemplate">
	<div data-role="header">
		<h1>ヘッダー</h1>
	</div>

	<div data-role="content">コンテンツ</div>

	<div data-role="footer">
		<h4>yone3.net</h4>
	</div>
</div>

</body>
</html>
